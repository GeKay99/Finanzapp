<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nettozeit - Der Lebenszeit Rechner</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <div class="logo" onclick="switchView('home', document.querySelector('.nav-btn'))" title="Zur Startseite">
            <span class="logo-icon">â³</span>
            Nettozeit
        </div>
        
        <button class="mobile-menu-btn" onclick="toggleMobileMenu()">â˜°</button>

        <nav id="main-nav">
            <button class="nav-btn active" onclick="switchView('home', this)">Zeit-Rechner</button>
            <button class="nav-btn" onclick="switchView('lists', this)">Spar-Ziele</button>
            <button class="nav-btn" onclick="switchView('salary', this)">Brutto-Netto</button> 
        </nav>
    </header>

    <div class="ad-container ad-banner"></div>

    <div class="main-container">
        <div id="view-container"></div>
    </div>

    <div id="catalog-modal" class="modal-overlay">
        <div class="modal-window">
            <div class="modal-header">
                <h3>ğŸ›ï¸ Produkt-Katalog</h3>
                <button class="modal-close" onclick="closeCatalogModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="modal-sidebar">
                    <div class="cat-item active" onclick="filterCatalog('all', this)">Alle</div>
                    <div class="cat-item" onclick="filterCatalog('Handy', this)">ğŸ“± Handys</div>
                    <div class="cat-item" onclick="filterCatalog('Gaming', this)">ğŸ® Gaming</div>
                    <div class="cat-item" onclick="filterCatalog('Audio', this)">ğŸ§ Audio</div>
                    <div class="cat-item" onclick="filterCatalog('Laptop', this)">ğŸ’» Laptops</div>
                    <div class="cat-item" onclick="filterCatalog('Tablet', this)">ğŸ“Ÿ Tablets</div>
                    <div class="cat-item" onclick="filterCatalog('Kamera', this)">ğŸ“· Kameras</div>
                    <div class="cat-item" onclick="filterCatalog('Haushalt', this)">ğŸ  Haushalt</div>
                </div>
                <div class="modal-content">
                    <div class="modal-search-bar">
                        <span class="search-icon">ğŸ”</span>
                        <input type="text" id="catalog-search-input" placeholder="Im Katalog suchen..." oninput="searchCatalog()">
                    </div>
                    <div id="catalog-grid" class="catalog-grid"></div>
                </div>
            </div>
            <div class="modal-footer">
                <span id="selected-count">0 Produkte gewÃ¤hlt</span>
                <button class="btn-add-selected" onclick="addSelectedToCart()">Auswahl hinzufÃ¼gen</button>
            </div>
        </div>
    </div>

    <div id="shop-modal" class="modal-overlay">
        <div class="modal-window" style="height: auto; max-height: 80vh;">
            <div class="modal-header">
                <h3>ğŸ›ï¸ Deine Einkaufsliste</h3>
                <button class="modal-close" onclick="closeShopModal()">Ã—</button>
            </div>
            <div class="modal-body" style="padding: 20px; overflow-y: auto; flex-direction: column;">
                <p style="margin-top:0; color:#64748b; margin-bottom: 20px;">Hier sind die Links zu deinen ausgewÃ¤hlten Produkten:</p>
                <div id="shop-list-container" style="display:flex; flex-direction:column; gap:10px;"></div>
            </div>
            <div class="modal-footer" style="justify-content: flex-end;">
                <button class="btn-add-selected" onclick="closeShopModal()">SchlieÃŸen</button>
            </div>
        </div>
    </div>

    <div id="confirm-modal" class="modal-overlay">
        <div class="modal-window" style="height: auto; max-width: 400px; text-align: center;">
            <div class="modal-body" style="padding: 30px; flex-direction: column; align-items: center;">
                <div style="font-size: 3rem; margin-bottom: 15px;">ğŸ·</div>
                <h3 style="margin-top: 0; color: var(--text-main);">Wirklich sparen?</h3>
                <p style="color: var(--text-light); margin-bottom: 25px;">
                    MÃ¶chtest du den Kauf wirklich abbrechen? <br>
                    Der Betrag wird deinem <strong>Highscore</strong> gutgeschrieben.
                </p>
                <div style="display: flex; gap: 10px; width: 100%;">
                    <button class="btn-add-selected" style="background: var(--line-color); color: var(--text-main); flex: 1;" onclick="closeConfirmModal()">Abbrechen</button>
                    <button class="btn-add-selected" style="flex: 1;" onclick="confirmAction()">Ja, sparen!</button>
                </div>
            </div>
        </div>
    </div>

    <div id="success-modal" class="modal-overlay">
        <div class="modal-window" style="height: auto; max-width: 450px; text-align: center;">
            <div class="modal-body" style="padding: 30px; flex-direction: column; align-items: center; background: linear-gradient(180deg, #fff 0%, #f0fdf4 100%);">
                <div style="font-size: 4rem; margin-bottom: 10px;">ğŸ‰</div>
                <h3 style="margin: 0; color: var(--success); font-size: 1.8rem;">GlÃ¼ckwunsch!</h3>
                <p style="color: var(--text-main); font-size: 1.1rem; margin: 10px 0;">
                    Du hast gerade <strong id="success-saved-current" style="color: var(--success);">0 â‚¬</strong> gespart!
                </p>
                
                <div style="background: white; border: 2px solid #bbf7d0; border-radius: 12px; padding: 15px; width: 100%; margin: 20px 0; box-shadow: 0 4px 10px rgba(0,0,0,0.05);">
                    <div style="font-size: 0.8rem; text-transform: uppercase; color: var(--text-light); font-weight: 700; margin-bottom: 5px;">Dein Neuer Highscore</div>
                    <div style="font-size: 1.8rem; font-weight: 800; color: var(--text-main);" id="success-total-money">0 â‚¬</div>
                    <div style="font-size: 1rem; color: var(--primary); font-weight: 600;" id="success-total-time">0 Std Lebenszeit</div>
                </div>

                <button class="btn-add-selected" style="width: 100%; padding: 15px; font-size: 1.1rem;" onclick="closeSuccessModal()">Weiter so!</button>
            </div>
        </div>
    </div>

    <div id="new-list-modal" class="modal-overlay">
        <div class="modal-window" style="height: auto; max-width: 400px;">
            <div class="modal-header">
                <h3>ğŸ“ Neue Liste erstellen</h3>
                <button class="modal-close" onclick="closeNewListModal()">Ã—</button>
            </div>
            <div class="modal-body" style="padding: 20px; overflow: visible;">
                <p style="margin-top:0; color:var(--text-light); margin-bottom:15px;">Wie soll dein Sparziel heiÃŸen?</p>
                <input type="text" id="new-list-name" class="cart-input" placeholder="z.B. Urlaub 2025" style="width:100%; padding:12px; font-size:1rem;">
            </div>
            <div class="modal-footer" style="justify-content: flex-end; gap: 10px;">
                <button class="btn-add-manual" onclick="closeNewListModal()">Abbrechen</button>
                <button class="btn-add-selected" onclick="saveNewListFromModal()">Erstellen</button>
            </div>
        </div>
    </div>

    <div id="delete-list-modal" class="modal-overlay">
        <div class="modal-window" style="height: auto; max-width: 400px; text-align: center;">
            <div class="modal-body" style="padding: 30px; flex-direction: column; align-items: center;">
                <div style="font-size: 3rem; margin-bottom: 15px;">ğŸ—‘ï¸</div>
                <h3 style="margin-top: 0; color: var(--text-main);">Liste lÃ¶schen?</h3>
                <p style="color: var(--text-light); margin-bottom: 25px;">
                    MÃ¶chtest du diese Liste wirklich unwiderruflich lÃ¶schen?
                </p>
                <div style="display: flex; gap: 10px; width: 100%;">
                    <button class="btn-add-manual" style="flex: 1;" onclick="closeDeleteListModal()">Abbrechen</button>
                    <button class="btn-add-selected" style="background: var(--danger); flex: 1;" onclick="confirmDeleteList()">LÃ¶schen</button>
                </div>
            </div>
        </div>
    </div>

    <div class="ad-container ad-banner"></div>

    <footer>
        <div class="footer-content">
            <div class="logo" style="color:white; font-size:1.2rem;">â³ Nettozeit</div>
            <p class="copyright">&copy; 2024 Nettozeit. Dein Tool fÃ¼r finanzielle Klarheit.</p>
            <div class="footer-links">
                <a href="impressum.html">Impressum</a>
                <a href="datenschutz.html">Datenschutz</a>
                <a href="#">Kontakt</a>
                <a href="#">Ãœber uns</a>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="products.js"></script>
</body>
</html>